<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.tedu.storeStuden.Mapper.AddressMapper">
    <resultMap id="AddressMap" type="cn.tedu.storeStuden.entity.Address">
        <id column="id" property="id" />
        <result column="name" property="name" />
        <result column="user_id" property="userId" />
        <result column="dept" property="dept" />
        <result column="askid" property="askid" />
        <result column="asktype" property="asktype" />
        <result column="askdate" property="askdate" />
        <result column="askstart" property="askstart" />
        <result column="askend" property="askend" />
        <result column="askreason" property="askreason" />
        <result column="is_check" property="isCheck" />
        <result column="check_back" property="checkBack" />
        <result column="created_user" property="createdUser" />
        <result column="created_time" property="createdTime" />
        <result column="modified_user" property="modifiedUser" />
        <result column="modified_time" property="modifiedTime" />
    </resultMap>
    <insert id="saveAsk">
        insert into t_ask(name,user_id,dept,askid,asktype,askdate,askstart,askend,askreason,is_check,
        check_back,created_user,created_time,modified_user,modified_time)
        values(#{name},#{userId},#{dept},#{askid},#{asktype},#{askdate},#{askstart},#{askend},#{askreason},#{isCheck},
        #{checkBack}, #{createdUser},now(),#{modifiedUser},now());
    </insert>
    <!--    -->
    <select id="countByUserId" resultType="java.lang.Integer">
        select count(*) from t_ask where user_id=#{userId};
    </select>
<!--    根据用户ID查询-->
    <select id="getAskByUserId" resultMap="AddressMap">
        select * from t_ask where user_id=#{userId}
        order by is_check desc,modified_time desc;
    </select>
</mapper>